export type RepeatString<N, T extends string, Depth extends any[] = [], State extends string = ""> = N extends
	Depth["length"] ? State
	: RepeatString<N, T, [...Depth, any], `${State}${T}`>;

type BatchLines<T, State extends any[] = []> = T extends `${RepeatString<999, `${any}\n`>}${infer Rest}`
	? T extends `${infer X}\n${Rest}` ? BatchLines<Rest, [...State, X]> : never
	: [...State, T];

type LinesFromBatches<T, State extends any[] = []> = T extends [string, ...infer Rest]
	? LinesFromBatches<Rest, [...State, ...Split<"\n", T[0]>]>
	: State;

export type AsLines<T> = LinesFromBatches<BatchLines<T>>;

export type AsChars<T, State extends string[] = []> = T extends `${infer X}${infer Rest}` ? AsChars<Rest, [...State, X]>
	: State;

export type Split<Delim extends string, T, State extends any[] = []> = T extends `${infer X}${Delim}${infer Rest}`
	? Split<Delim, Rest, [...State, X]>
	: [...State, T];

/** decimal digits */
export type Digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9";

/** Finds the first occurance of any of the string literals in `Of` from the begining of the string literal `T` */
export type FirstOf<Of extends string, T> =
	/* dprint-ignore */
	T extends `${Of}${infer Rest}`
		? T extends `${infer X}${Rest}` ? X extends Of ? X : never : never
		: T extends `${any}${infer Rest}` ? FirstOf<Of, Rest> : never;

/** Finds the first occurance of any of the string literals in `Of` from the end of the string literal `T` */
export type LastOf<Of extends string, T> =
	/* dprint-ignore */
	T extends `${Of}${infer Rest}`
		? T extends `${infer X}${Rest}`
			? (T extends `${any}${infer Rest}` ? LastOf<Of, Rest> : never) extends never
				? X extends Of ? X : never
				: (T extends `${any}${infer Rest}` ? LastOf<Of, Rest> : never)
			: never
		: T extends `${any}${infer Rest}` ? LastOf<Of, Rest> : never;

/** number represented as a reversed tuple of decimal digits */
type TDNum = Digit[];

export type ToTDNum<T, State extends TDNum = []> = (T extends number ? `${T}` : T) extends `${infer X}${infer Rest}`
	? ToTDNum<Rest, [X extends Digit ? X : never, ...State]>
	: State;

type Sum = {
	"000": ["0", "0"];
	"001": ["0", "1"];
	"002": ["0", "2"];
	"003": ["0", "3"];
	"004": ["0", "4"];
	"005": ["0", "5"];
	"006": ["0", "6"];
	"007": ["0", "7"];
	"008": ["0", "8"];
	"009": ["0", "9"];
	"010": ["0", "1"];
	"011": ["0", "2"];
	"012": ["0", "3"];
	"013": ["0", "4"];
	"014": ["0", "5"];
	"015": ["0", "6"];
	"016": ["0", "7"];
	"017": ["0", "8"];
	"018": ["0", "9"];
	"019": ["1", "0"];
	"020": ["0", "2"];
	"021": ["0", "3"];
	"022": ["0", "4"];
	"023": ["0", "5"];
	"024": ["0", "6"];
	"025": ["0", "7"];
	"026": ["0", "8"];
	"027": ["0", "9"];
	"028": ["1", "0"];
	"029": ["1", "1"];
	"030": ["0", "3"];
	"031": ["0", "4"];
	"032": ["0", "5"];
	"033": ["0", "6"];
	"034": ["0", "7"];
	"035": ["0", "8"];
	"036": ["0", "9"];
	"037": ["1", "0"];
	"038": ["1", "1"];
	"039": ["1", "2"];
	"040": ["0", "4"];
	"041": ["0", "5"];
	"042": ["0", "6"];
	"043": ["0", "7"];
	"044": ["0", "8"];
	"045": ["0", "9"];
	"046": ["1", "0"];
	"047": ["1", "1"];
	"048": ["1", "2"];
	"049": ["1", "3"];
	"050": ["0", "5"];
	"051": ["0", "6"];
	"052": ["0", "7"];
	"053": ["0", "8"];
	"054": ["0", "9"];
	"055": ["1", "0"];
	"056": ["1", "1"];
	"057": ["1", "2"];
	"058": ["1", "3"];
	"059": ["1", "4"];
	"060": ["0", "6"];
	"061": ["0", "7"];
	"062": ["0", "8"];
	"063": ["0", "9"];
	"064": ["1", "0"];
	"065": ["1", "1"];
	"066": ["1", "2"];
	"067": ["1", "3"];
	"068": ["1", "4"];
	"069": ["1", "5"];
	"070": ["0", "7"];
	"071": ["0", "8"];
	"072": ["0", "9"];
	"073": ["1", "0"];
	"074": ["1", "1"];
	"075": ["1", "2"];
	"076": ["1", "3"];
	"077": ["1", "4"];
	"078": ["1", "5"];
	"079": ["1", "6"];
	"080": ["0", "8"];
	"081": ["0", "9"];
	"082": ["1", "0"];
	"083": ["1", "1"];
	"084": ["1", "2"];
	"085": ["1", "3"];
	"086": ["1", "4"];
	"087": ["1", "5"];
	"088": ["1", "6"];
	"089": ["1", "7"];
	"090": ["0", "9"];
	"091": ["1", "0"];
	"092": ["1", "1"];
	"093": ["1", "2"];
	"094": ["1", "3"];
	"095": ["1", "4"];
	"096": ["1", "5"];
	"097": ["1", "6"];
	"098": ["1", "7"];
	"099": ["1", "8"];
	"100": ["0", "1"];
	"101": ["0", "2"];
	"102": ["0", "3"];
	"103": ["0", "4"];
	"104": ["0", "5"];
	"105": ["0", "6"];
	"106": ["0", "7"];
	"107": ["0", "8"];
	"108": ["0", "9"];
	"109": ["1", "0"];
	"110": ["0", "2"];
	"111": ["0", "3"];
	"112": ["0", "4"];
	"113": ["0", "5"];
	"114": ["0", "6"];
	"115": ["0", "7"];
	"116": ["0", "8"];
	"117": ["0", "9"];
	"118": ["1", "0"];
	"119": ["1", "1"];
	"120": ["0", "3"];
	"121": ["0", "4"];
	"122": ["0", "5"];
	"123": ["0", "6"];
	"124": ["0", "7"];
	"125": ["0", "8"];
	"126": ["0", "9"];
	"127": ["1", "0"];
	"128": ["1", "1"];
	"129": ["1", "2"];
	"130": ["0", "4"];
	"131": ["0", "5"];
	"132": ["0", "6"];
	"133": ["0", "7"];
	"134": ["0", "8"];
	"135": ["0", "9"];
	"136": ["1", "0"];
	"137": ["1", "1"];
	"138": ["1", "2"];
	"139": ["1", "3"];
	"140": ["0", "5"];
	"141": ["0", "6"];
	"142": ["0", "7"];
	"143": ["0", "8"];
	"144": ["0", "9"];
	"145": ["1", "0"];
	"146": ["1", "1"];
	"147": ["1", "2"];
	"148": ["1", "3"];
	"149": ["1", "4"];
	"150": ["0", "6"];
	"151": ["0", "7"];
	"152": ["0", "8"];
	"153": ["0", "9"];
	"154": ["1", "0"];
	"155": ["1", "1"];
	"156": ["1", "2"];
	"157": ["1", "3"];
	"158": ["1", "4"];
	"159": ["1", "5"];
	"160": ["0", "7"];
	"161": ["0", "8"];
	"162": ["0", "9"];
	"163": ["1", "0"];
	"164": ["1", "1"];
	"165": ["1", "2"];
	"166": ["1", "3"];
	"167": ["1", "4"];
	"168": ["1", "5"];
	"169": ["1", "6"];
	"170": ["0", "8"];
	"171": ["0", "9"];
	"172": ["1", "0"];
	"173": ["1", "1"];
	"174": ["1", "2"];
	"175": ["1", "3"];
	"176": ["1", "4"];
	"177": ["1", "5"];
	"178": ["1", "6"];
	"179": ["1", "7"];
	"180": ["0", "9"];
	"181": ["1", "0"];
	"182": ["1", "1"];
	"183": ["1", "2"];
	"184": ["1", "3"];
	"185": ["1", "4"];
	"186": ["1", "5"];
	"187": ["1", "6"];
	"188": ["1", "7"];
	"189": ["1", "8"];
	"190": ["1", "0"];
	"191": ["1", "1"];
	"192": ["1", "2"];
	"193": ["1", "3"];
	"194": ["1", "4"];
	"195": ["1", "5"];
	"196": ["1", "6"];
	"197": ["1", "7"];
	"198": ["1", "8"];
	"199": ["1", "9"];
};

/** add two TDNums */
export type AddTDNum<A, B, Result extends any[] = [], Carry extends "0" | "1" = "0"> =
	/* dprint-ignore */
	A extends [Digit, ...infer AZ]
		? B extends [Digit, ...infer BZ]
			? AddTDNum<AZ, BZ, [...Result, Sum[`${Carry}${A[0]}${B[0]}`][1]], Sum[`${Carry}${A[0]}${B[0]}`][0]>
			: AddTDNum<AZ, [], [...Result, Sum[`${Carry}${A[0]}0`][1]], Sum[`${Carry}${A[0]}0`][0]>
		: B extends [Digit, ...infer BZ]
			? AddTDNum<BZ, [], [...Result, Sum[`${Carry}${B[0]}0`][1]], Sum[`${Carry}${B[0]}0`][0]>
			: Carry extends "1"
				? [...Result, "1"]
				: Result;

type Mul = {
	"000": ["0", "0"];
	"001": ["0", "0"];
	"002": ["0", "0"];
	"003": ["0", "0"];
	"004": ["0", "0"];
	"005": ["0", "0"];
	"006": ["0", "0"];
	"007": ["0", "0"];
	"008": ["0", "0"];
	"009": ["0", "0"];
	"010": ["0", "0"];
	"011": ["0", "1"];
	"012": ["0", "2"];
	"013": ["0", "3"];
	"014": ["0", "4"];
	"015": ["0", "5"];
	"016": ["0", "6"];
	"017": ["0", "7"];
	"018": ["0", "8"];
	"019": ["0", "9"];
	"020": ["0", "0"];
	"021": ["0", "2"];
	"022": ["0", "4"];
	"023": ["0", "6"];
	"024": ["0", "8"];
	"025": ["1", "0"];
	"026": ["1", "2"];
	"027": ["1", "4"];
	"028": ["1", "6"];
	"029": ["1", "8"];
	"030": ["0", "0"];
	"031": ["0", "3"];
	"032": ["0", "6"];
	"033": ["0", "9"];
	"034": ["1", "2"];
	"035": ["1", "5"];
	"036": ["1", "8"];
	"037": ["2", "1"];
	"038": ["2", "4"];
	"039": ["2", "7"];
	"040": ["0", "0"];
	"041": ["0", "4"];
	"042": ["0", "8"];
	"043": ["1", "2"];
	"044": ["1", "6"];
	"045": ["2", "0"];
	"046": ["2", "4"];
	"047": ["2", "8"];
	"048": ["3", "2"];
	"049": ["3", "6"];
	"050": ["0", "0"];
	"051": ["0", "5"];
	"052": ["1", "0"];
	"053": ["1", "5"];
	"054": ["2", "0"];
	"055": ["2", "5"];
	"056": ["3", "0"];
	"057": ["3", "5"];
	"058": ["4", "0"];
	"059": ["4", "5"];
	"060": ["0", "0"];
	"061": ["0", "6"];
	"062": ["1", "2"];
	"063": ["1", "8"];
	"064": ["2", "4"];
	"065": ["3", "0"];
	"066": ["3", "6"];
	"067": ["4", "2"];
	"068": ["4", "8"];
	"069": ["5", "4"];
	"070": ["0", "0"];
	"071": ["0", "7"];
	"072": ["1", "4"];
	"073": ["2", "1"];
	"074": ["2", "8"];
	"075": ["3", "5"];
	"076": ["4", "2"];
	"077": ["4", "9"];
	"078": ["5", "6"];
	"079": ["6", "3"];
	"080": ["0", "0"];
	"081": ["0", "8"];
	"082": ["1", "6"];
	"083": ["2", "4"];
	"084": ["3", "2"];
	"085": ["4", "0"];
	"086": ["4", "8"];
	"087": ["5", "6"];
	"088": ["6", "4"];
	"089": ["7", "2"];
	"090": ["0", "0"];
	"091": ["0", "9"];
	"092": ["1", "8"];
	"093": ["2", "7"];
	"094": ["3", "6"];
	"095": ["4", "5"];
	"096": ["5", "4"];
	"097": ["6", "3"];
	"098": ["7", "2"];
	"099": ["8", "1"];
	"100": ["0", "1"];
	"101": ["0", "1"];
	"102": ["0", "1"];
	"103": ["0", "1"];
	"104": ["0", "1"];
	"105": ["0", "1"];
	"106": ["0", "1"];
	"107": ["0", "1"];
	"108": ["0", "1"];
	"109": ["0", "1"];
	"110": ["0", "1"];
	"111": ["0", "2"];
	"112": ["0", "3"];
	"113": ["0", "4"];
	"114": ["0", "5"];
	"115": ["0", "6"];
	"116": ["0", "7"];
	"117": ["0", "8"];
	"118": ["0", "9"];
	"119": ["1", "0"];
	"120": ["0", "1"];
	"121": ["0", "3"];
	"122": ["0", "5"];
	"123": ["0", "7"];
	"124": ["0", "9"];
	"125": ["1", "1"];
	"126": ["1", "3"];
	"127": ["1", "5"];
	"128": ["1", "7"];
	"129": ["1", "9"];
	"130": ["0", "1"];
	"131": ["0", "4"];
	"132": ["0", "7"];
	"133": ["1", "0"];
	"134": ["1", "3"];
	"135": ["1", "6"];
	"136": ["1", "9"];
	"137": ["2", "2"];
	"138": ["2", "5"];
	"139": ["2", "8"];
	"140": ["0", "1"];
	"141": ["0", "5"];
	"142": ["0", "9"];
	"143": ["1", "3"];
	"144": ["1", "7"];
	"145": ["2", "1"];
	"146": ["2", "5"];
	"147": ["2", "9"];
	"148": ["3", "3"];
	"149": ["3", "7"];
	"150": ["0", "1"];
	"151": ["0", "6"];
	"152": ["1", "1"];
	"153": ["1", "6"];
	"154": ["2", "1"];
	"155": ["2", "6"];
	"156": ["3", "1"];
	"157": ["3", "6"];
	"158": ["4", "1"];
	"159": ["4", "6"];
	"160": ["0", "1"];
	"161": ["0", "7"];
	"162": ["1", "3"];
	"163": ["1", "9"];
	"164": ["2", "5"];
	"165": ["3", "1"];
	"166": ["3", "7"];
	"167": ["4", "3"];
	"168": ["4", "9"];
	"169": ["5", "5"];
	"170": ["0", "1"];
	"171": ["0", "8"];
	"172": ["1", "5"];
	"173": ["2", "2"];
	"174": ["2", "9"];
	"175": ["3", "6"];
	"176": ["4", "3"];
	"177": ["5", "0"];
	"178": ["5", "7"];
	"179": ["6", "4"];
	"180": ["0", "1"];
	"181": ["0", "9"];
	"182": ["1", "7"];
	"183": ["2", "5"];
	"184": ["3", "3"];
	"185": ["4", "1"];
	"186": ["4", "9"];
	"187": ["5", "7"];
	"188": ["6", "5"];
	"189": ["7", "3"];
	"190": ["0", "1"];
	"191": ["1", "0"];
	"192": ["1", "9"];
	"193": ["2", "8"];
	"194": ["3", "7"];
	"195": ["4", "6"];
	"196": ["5", "5"];
	"197": ["6", "4"];
	"198": ["7", "3"];
	"199": ["8", "2"];
	"200": ["0", "2"];
	"201": ["0", "2"];
	"202": ["0", "2"];
	"203": ["0", "2"];
	"204": ["0", "2"];
	"205": ["0", "2"];
	"206": ["0", "2"];
	"207": ["0", "2"];
	"208": ["0", "2"];
	"209": ["0", "2"];
	"210": ["0", "2"];
	"211": ["0", "3"];
	"212": ["0", "4"];
	"213": ["0", "5"];
	"214": ["0", "6"];
	"215": ["0", "7"];
	"216": ["0", "8"];
	"217": ["0", "9"];
	"218": ["1", "0"];
	"219": ["1", "1"];
	"220": ["0", "2"];
	"221": ["0", "4"];
	"222": ["0", "6"];
	"223": ["0", "8"];
	"224": ["1", "0"];
	"225": ["1", "2"];
	"226": ["1", "4"];
	"227": ["1", "6"];
	"228": ["1", "8"];
	"229": ["2", "0"];
	"230": ["0", "2"];
	"231": ["0", "5"];
	"232": ["0", "8"];
	"233": ["1", "1"];
	"234": ["1", "4"];
	"235": ["1", "7"];
	"236": ["2", "0"];
	"237": ["2", "3"];
	"238": ["2", "6"];
	"239": ["2", "9"];
	"240": ["0", "2"];
	"241": ["0", "6"];
	"242": ["1", "0"];
	"243": ["1", "4"];
	"244": ["1", "8"];
	"245": ["2", "2"];
	"246": ["2", "6"];
	"247": ["3", "0"];
	"248": ["3", "4"];
	"249": ["3", "8"];
	"250": ["0", "2"];
	"251": ["0", "7"];
	"252": ["1", "2"];
	"253": ["1", "7"];
	"254": ["2", "2"];
	"255": ["2", "7"];
	"256": ["3", "2"];
	"257": ["3", "7"];
	"258": ["4", "2"];
	"259": ["4", "7"];
	"260": ["0", "2"];
	"261": ["0", "8"];
	"262": ["1", "4"];
	"263": ["2", "0"];
	"264": ["2", "6"];
	"265": ["3", "2"];
	"266": ["3", "8"];
	"267": ["4", "4"];
	"268": ["5", "0"];
	"269": ["5", "6"];
	"270": ["0", "2"];
	"271": ["0", "9"];
	"272": ["1", "6"];
	"273": ["2", "3"];
	"274": ["3", "0"];
	"275": ["3", "7"];
	"276": ["4", "4"];
	"277": ["5", "1"];
	"278": ["5", "8"];
	"279": ["6", "5"];
	"280": ["0", "2"];
	"281": ["1", "0"];
	"282": ["1", "8"];
	"283": ["2", "6"];
	"284": ["3", "4"];
	"285": ["4", "2"];
	"286": ["5", "0"];
	"287": ["5", "8"];
	"288": ["6", "6"];
	"289": ["7", "4"];
	"290": ["0", "2"];
	"291": ["1", "1"];
	"292": ["2", "0"];
	"293": ["2", "9"];
	"294": ["3", "8"];
	"295": ["4", "7"];
	"296": ["5", "6"];
	"297": ["6", "5"];
	"298": ["7", "4"];
	"299": ["8", "3"];
	"300": ["0", "3"];
	"301": ["0", "3"];
	"302": ["0", "3"];
	"303": ["0", "3"];
	"304": ["0", "3"];
	"305": ["0", "3"];
	"306": ["0", "3"];
	"307": ["0", "3"];
	"308": ["0", "3"];
	"309": ["0", "3"];
	"310": ["0", "3"];
	"311": ["0", "4"];
	"312": ["0", "5"];
	"313": ["0", "6"];
	"314": ["0", "7"];
	"315": ["0", "8"];
	"316": ["0", "9"];
	"317": ["1", "0"];
	"318": ["1", "1"];
	"319": ["1", "2"];
	"320": ["0", "3"];
	"321": ["0", "5"];
	"322": ["0", "7"];
	"323": ["0", "9"];
	"324": ["1", "1"];
	"325": ["1", "3"];
	"326": ["1", "5"];
	"327": ["1", "7"];
	"328": ["1", "9"];
	"329": ["2", "1"];
	"330": ["0", "3"];
	"331": ["0", "6"];
	"332": ["0", "9"];
	"333": ["1", "2"];
	"334": ["1", "5"];
	"335": ["1", "8"];
	"336": ["2", "1"];
	"337": ["2", "4"];
	"338": ["2", "7"];
	"339": ["3", "0"];
	"340": ["0", "3"];
	"341": ["0", "7"];
	"342": ["1", "1"];
	"343": ["1", "5"];
	"344": ["1", "9"];
	"345": ["2", "3"];
	"346": ["2", "7"];
	"347": ["3", "1"];
	"348": ["3", "5"];
	"349": ["3", "9"];
	"350": ["0", "3"];
	"351": ["0", "8"];
	"352": ["1", "3"];
	"353": ["1", "8"];
	"354": ["2", "3"];
	"355": ["2", "8"];
	"356": ["3", "3"];
	"357": ["3", "8"];
	"358": ["4", "3"];
	"359": ["4", "8"];
	"360": ["0", "3"];
	"361": ["0", "9"];
	"362": ["1", "5"];
	"363": ["2", "1"];
	"364": ["2", "7"];
	"365": ["3", "3"];
	"366": ["3", "9"];
	"367": ["4", "5"];
	"368": ["5", "1"];
	"369": ["5", "7"];
	"370": ["0", "3"];
	"371": ["1", "0"];
	"372": ["1", "7"];
	"373": ["2", "4"];
	"374": ["3", "1"];
	"375": ["3", "8"];
	"376": ["4", "5"];
	"377": ["5", "2"];
	"378": ["5", "9"];
	"379": ["6", "6"];
	"380": ["0", "3"];
	"381": ["1", "1"];
	"382": ["1", "9"];
	"383": ["2", "7"];
	"384": ["3", "5"];
	"385": ["4", "3"];
	"386": ["5", "1"];
	"387": ["5", "9"];
	"388": ["6", "7"];
	"389": ["7", "5"];
	"390": ["0", "3"];
	"391": ["1", "2"];
	"392": ["2", "1"];
	"393": ["3", "0"];
	"394": ["3", "9"];
	"395": ["4", "8"];
	"396": ["5", "7"];
	"397": ["6", "6"];
	"398": ["7", "5"];
	"399": ["8", "4"];
	"400": ["0", "4"];
	"401": ["0", "4"];
	"402": ["0", "4"];
	"403": ["0", "4"];
	"404": ["0", "4"];
	"405": ["0", "4"];
	"406": ["0", "4"];
	"407": ["0", "4"];
	"408": ["0", "4"];
	"409": ["0", "4"];
	"410": ["0", "4"];
	"411": ["0", "5"];
	"412": ["0", "6"];
	"413": ["0", "7"];
	"414": ["0", "8"];
	"415": ["0", "9"];
	"416": ["1", "0"];
	"417": ["1", "1"];
	"418": ["1", "2"];
	"419": ["1", "3"];
	"420": ["0", "4"];
	"421": ["0", "6"];
	"422": ["0", "8"];
	"423": ["1", "0"];
	"424": ["1", "2"];
	"425": ["1", "4"];
	"426": ["1", "6"];
	"427": ["1", "8"];
	"428": ["2", "0"];
	"429": ["2", "2"];
	"430": ["0", "4"];
	"431": ["0", "7"];
	"432": ["1", "0"];
	"433": ["1", "3"];
	"434": ["1", "6"];
	"435": ["1", "9"];
	"436": ["2", "2"];
	"437": ["2", "5"];
	"438": ["2", "8"];
	"439": ["3", "1"];
	"440": ["0", "4"];
	"441": ["0", "8"];
	"442": ["1", "2"];
	"443": ["1", "6"];
	"444": ["2", "0"];
	"445": ["2", "4"];
	"446": ["2", "8"];
	"447": ["3", "2"];
	"448": ["3", "6"];
	"449": ["4", "0"];
	"450": ["0", "4"];
	"451": ["0", "9"];
	"452": ["1", "4"];
	"453": ["1", "9"];
	"454": ["2", "4"];
	"455": ["2", "9"];
	"456": ["3", "4"];
	"457": ["3", "9"];
	"458": ["4", "4"];
	"459": ["4", "9"];
	"460": ["0", "4"];
	"461": ["1", "0"];
	"462": ["1", "6"];
	"463": ["2", "2"];
	"464": ["2", "8"];
	"465": ["3", "4"];
	"466": ["4", "0"];
	"467": ["4", "6"];
	"468": ["5", "2"];
	"469": ["5", "8"];
	"470": ["0", "4"];
	"471": ["1", "1"];
	"472": ["1", "8"];
	"473": ["2", "5"];
	"474": ["3", "2"];
	"475": ["3", "9"];
	"476": ["4", "6"];
	"477": ["5", "3"];
	"478": ["6", "0"];
	"479": ["6", "7"];
	"480": ["0", "4"];
	"481": ["1", "2"];
	"482": ["2", "0"];
	"483": ["2", "8"];
	"484": ["3", "6"];
	"485": ["4", "4"];
	"486": ["5", "2"];
	"487": ["6", "0"];
	"488": ["6", "8"];
	"489": ["7", "6"];
	"490": ["0", "4"];
	"491": ["1", "3"];
	"492": ["2", "2"];
	"493": ["3", "1"];
	"494": ["4", "0"];
	"495": ["4", "9"];
	"496": ["5", "8"];
	"497": ["6", "7"];
	"498": ["7", "6"];
	"499": ["8", "5"];
	"500": ["0", "5"];
	"501": ["0", "5"];
	"502": ["0", "5"];
	"503": ["0", "5"];
	"504": ["0", "5"];
	"505": ["0", "5"];
	"506": ["0", "5"];
	"507": ["0", "5"];
	"508": ["0", "5"];
	"509": ["0", "5"];
	"510": ["0", "5"];
	"511": ["0", "6"];
	"512": ["0", "7"];
	"513": ["0", "8"];
	"514": ["0", "9"];
	"515": ["1", "0"];
	"516": ["1", "1"];
	"517": ["1", "2"];
	"518": ["1", "3"];
	"519": ["1", "4"];
	"520": ["0", "5"];
	"521": ["0", "7"];
	"522": ["0", "9"];
	"523": ["1", "1"];
	"524": ["1", "3"];
	"525": ["1", "5"];
	"526": ["1", "7"];
	"527": ["1", "9"];
	"528": ["2", "1"];
	"529": ["2", "3"];
	"530": ["0", "5"];
	"531": ["0", "8"];
	"532": ["1", "1"];
	"533": ["1", "4"];
	"534": ["1", "7"];
	"535": ["2", "0"];
	"536": ["2", "3"];
	"537": ["2", "6"];
	"538": ["2", "9"];
	"539": ["3", "2"];
	"540": ["0", "5"];
	"541": ["0", "9"];
	"542": ["1", "3"];
	"543": ["1", "7"];
	"544": ["2", "1"];
	"545": ["2", "5"];
	"546": ["2", "9"];
	"547": ["3", "3"];
	"548": ["3", "7"];
	"549": ["4", "1"];
	"550": ["0", "5"];
	"551": ["1", "0"];
	"552": ["1", "5"];
	"553": ["2", "0"];
	"554": ["2", "5"];
	"555": ["3", "0"];
	"556": ["3", "5"];
	"557": ["4", "0"];
	"558": ["4", "5"];
	"559": ["5", "0"];
	"560": ["0", "5"];
	"561": ["1", "1"];
	"562": ["1", "7"];
	"563": ["2", "3"];
	"564": ["2", "9"];
	"565": ["3", "5"];
	"566": ["4", "1"];
	"567": ["4", "7"];
	"568": ["5", "3"];
	"569": ["5", "9"];
	"570": ["0", "5"];
	"571": ["1", "2"];
	"572": ["1", "9"];
	"573": ["2", "6"];
	"574": ["3", "3"];
	"575": ["4", "0"];
	"576": ["4", "7"];
	"577": ["5", "4"];
	"578": ["6", "1"];
	"579": ["6", "8"];
	"580": ["0", "5"];
	"581": ["1", "3"];
	"582": ["2", "1"];
	"583": ["2", "9"];
	"584": ["3", "7"];
	"585": ["4", "5"];
	"586": ["5", "3"];
	"587": ["6", "1"];
	"588": ["6", "9"];
	"589": ["7", "7"];
	"590": ["0", "5"];
	"591": ["1", "4"];
	"592": ["2", "3"];
	"593": ["3", "2"];
	"594": ["4", "1"];
	"595": ["5", "0"];
	"596": ["5", "9"];
	"597": ["6", "8"];
	"598": ["7", "7"];
	"599": ["8", "6"];
	"600": ["0", "6"];
	"601": ["0", "6"];
	"602": ["0", "6"];
	"603": ["0", "6"];
	"604": ["0", "6"];
	"605": ["0", "6"];
	"606": ["0", "6"];
	"607": ["0", "6"];
	"608": ["0", "6"];
	"609": ["0", "6"];
	"610": ["0", "6"];
	"611": ["0", "7"];
	"612": ["0", "8"];
	"613": ["0", "9"];
	"614": ["1", "0"];
	"615": ["1", "1"];
	"616": ["1", "2"];
	"617": ["1", "3"];
	"618": ["1", "4"];
	"619": ["1", "5"];
	"620": ["0", "6"];
	"621": ["0", "8"];
	"622": ["1", "0"];
	"623": ["1", "2"];
	"624": ["1", "4"];
	"625": ["1", "6"];
	"626": ["1", "8"];
	"627": ["2", "0"];
	"628": ["2", "2"];
	"629": ["2", "4"];
	"630": ["0", "6"];
	"631": ["0", "9"];
	"632": ["1", "2"];
	"633": ["1", "5"];
	"634": ["1", "8"];
	"635": ["2", "1"];
	"636": ["2", "4"];
	"637": ["2", "7"];
	"638": ["3", "0"];
	"639": ["3", "3"];
	"640": ["0", "6"];
	"641": ["1", "0"];
	"642": ["1", "4"];
	"643": ["1", "8"];
	"644": ["2", "2"];
	"645": ["2", "6"];
	"646": ["3", "0"];
	"647": ["3", "4"];
	"648": ["3", "8"];
	"649": ["4", "2"];
	"650": ["0", "6"];
	"651": ["1", "1"];
	"652": ["1", "6"];
	"653": ["2", "1"];
	"654": ["2", "6"];
	"655": ["3", "1"];
	"656": ["3", "6"];
	"657": ["4", "1"];
	"658": ["4", "6"];
	"659": ["5", "1"];
	"660": ["0", "6"];
	"661": ["1", "2"];
	"662": ["1", "8"];
	"663": ["2", "4"];
	"664": ["3", "0"];
	"665": ["3", "6"];
	"666": ["4", "2"];
	"667": ["4", "8"];
	"668": ["5", "4"];
	"669": ["6", "0"];
	"670": ["0", "6"];
	"671": ["1", "3"];
	"672": ["2", "0"];
	"673": ["2", "7"];
	"674": ["3", "4"];
	"675": ["4", "1"];
	"676": ["4", "8"];
	"677": ["5", "5"];
	"678": ["6", "2"];
	"679": ["6", "9"];
	"680": ["0", "6"];
	"681": ["1", "4"];
	"682": ["2", "2"];
	"683": ["3", "0"];
	"684": ["3", "8"];
	"685": ["4", "6"];
	"686": ["5", "4"];
	"687": ["6", "2"];
	"688": ["7", "0"];
	"689": ["7", "8"];
	"690": ["0", "6"];
	"691": ["1", "5"];
	"692": ["2", "4"];
	"693": ["3", "3"];
	"694": ["4", "2"];
	"695": ["5", "1"];
	"696": ["6", "0"];
	"697": ["6", "9"];
	"698": ["7", "8"];
	"699": ["8", "7"];
	"700": ["0", "7"];
	"701": ["0", "7"];
	"702": ["0", "7"];
	"703": ["0", "7"];
	"704": ["0", "7"];
	"705": ["0", "7"];
	"706": ["0", "7"];
	"707": ["0", "7"];
	"708": ["0", "7"];
	"709": ["0", "7"];
	"710": ["0", "7"];
	"711": ["0", "8"];
	"712": ["0", "9"];
	"713": ["1", "0"];
	"714": ["1", "1"];
	"715": ["1", "2"];
	"716": ["1", "3"];
	"717": ["1", "4"];
	"718": ["1", "5"];
	"719": ["1", "6"];
	"720": ["0", "7"];
	"721": ["0", "9"];
	"722": ["1", "1"];
	"723": ["1", "3"];
	"724": ["1", "5"];
	"725": ["1", "7"];
	"726": ["1", "9"];
	"727": ["2", "1"];
	"728": ["2", "3"];
	"729": ["2", "5"];
	"730": ["0", "7"];
	"731": ["1", "0"];
	"732": ["1", "3"];
	"733": ["1", "6"];
	"734": ["1", "9"];
	"735": ["2", "2"];
	"736": ["2", "5"];
	"737": ["2", "8"];
	"738": ["3", "1"];
	"739": ["3", "4"];
	"740": ["0", "7"];
	"741": ["1", "1"];
	"742": ["1", "5"];
	"743": ["1", "9"];
	"744": ["2", "3"];
	"745": ["2", "7"];
	"746": ["3", "1"];
	"747": ["3", "5"];
	"748": ["3", "9"];
	"749": ["4", "3"];
	"750": ["0", "7"];
	"751": ["1", "2"];
	"752": ["1", "7"];
	"753": ["2", "2"];
	"754": ["2", "7"];
	"755": ["3", "2"];
	"756": ["3", "7"];
	"757": ["4", "2"];
	"758": ["4", "7"];
	"759": ["5", "2"];
	"760": ["0", "7"];
	"761": ["1", "3"];
	"762": ["1", "9"];
	"763": ["2", "5"];
	"764": ["3", "1"];
	"765": ["3", "7"];
	"766": ["4", "3"];
	"767": ["4", "9"];
	"768": ["5", "5"];
	"769": ["6", "1"];
	"770": ["0", "7"];
	"771": ["1", "4"];
	"772": ["2", "1"];
	"773": ["2", "8"];
	"774": ["3", "5"];
	"775": ["4", "2"];
	"776": ["4", "9"];
	"777": ["5", "6"];
	"778": ["6", "3"];
	"779": ["7", "0"];
	"780": ["0", "7"];
	"781": ["1", "5"];
	"782": ["2", "3"];
	"783": ["3", "1"];
	"784": ["3", "9"];
	"785": ["4", "7"];
	"786": ["5", "5"];
	"787": ["6", "3"];
	"788": ["7", "1"];
	"789": ["7", "9"];
	"790": ["0", "7"];
	"791": ["1", "6"];
	"792": ["2", "5"];
	"793": ["3", "4"];
	"794": ["4", "3"];
	"795": ["5", "2"];
	"796": ["6", "1"];
	"797": ["7", "0"];
	"798": ["7", "9"];
	"799": ["8", "8"];
	"800": ["0", "8"];
	"801": ["0", "8"];
	"802": ["0", "8"];
	"803": ["0", "8"];
	"804": ["0", "8"];
	"805": ["0", "8"];
	"806": ["0", "8"];
	"807": ["0", "8"];
	"808": ["0", "8"];
	"809": ["0", "8"];
	"810": ["0", "8"];
	"811": ["0", "9"];
	"812": ["1", "0"];
	"813": ["1", "1"];
	"814": ["1", "2"];
	"815": ["1", "3"];
	"816": ["1", "4"];
	"817": ["1", "5"];
	"818": ["1", "6"];
	"819": ["1", "7"];
	"820": ["0", "8"];
	"821": ["1", "0"];
	"822": ["1", "2"];
	"823": ["1", "4"];
	"824": ["1", "6"];
	"825": ["1", "8"];
	"826": ["2", "0"];
	"827": ["2", "2"];
	"828": ["2", "4"];
	"829": ["2", "6"];
	"830": ["0", "8"];
	"831": ["1", "1"];
	"832": ["1", "4"];
	"833": ["1", "7"];
	"834": ["2", "0"];
	"835": ["2", "3"];
	"836": ["2", "6"];
	"837": ["2", "9"];
	"838": ["3", "2"];
	"839": ["3", "5"];
	"840": ["0", "8"];
	"841": ["1", "2"];
	"842": ["1", "6"];
	"843": ["2", "0"];
	"844": ["2", "4"];
	"845": ["2", "8"];
	"846": ["3", "2"];
	"847": ["3", "6"];
	"848": ["4", "0"];
	"849": ["4", "4"];
	"850": ["0", "8"];
	"851": ["1", "3"];
	"852": ["1", "8"];
	"853": ["2", "3"];
	"854": ["2", "8"];
	"855": ["3", "3"];
	"856": ["3", "8"];
	"857": ["4", "3"];
	"858": ["4", "8"];
	"859": ["5", "3"];
	"860": ["0", "8"];
	"861": ["1", "4"];
	"862": ["2", "0"];
	"863": ["2", "6"];
	"864": ["3", "2"];
	"865": ["3", "8"];
	"866": ["4", "4"];
	"867": ["5", "0"];
	"868": ["5", "6"];
	"869": ["6", "2"];
	"870": ["0", "8"];
	"871": ["1", "5"];
	"872": ["2", "2"];
	"873": ["2", "9"];
	"874": ["3", "6"];
	"875": ["4", "3"];
	"876": ["5", "0"];
	"877": ["5", "7"];
	"878": ["6", "4"];
	"879": ["7", "1"];
	"880": ["0", "8"];
	"881": ["1", "6"];
	"882": ["2", "4"];
	"883": ["3", "2"];
	"884": ["4", "0"];
	"885": ["4", "8"];
	"886": ["5", "6"];
	"887": ["6", "4"];
	"888": ["7", "2"];
	"889": ["8", "0"];
	"890": ["0", "8"];
	"891": ["1", "7"];
	"892": ["2", "6"];
	"893": ["3", "5"];
	"894": ["4", "4"];
	"895": ["5", "3"];
	"896": ["6", "2"];
	"897": ["7", "1"];
	"898": ["8", "0"];
	"899": ["8", "9"];
	"900": ["0", "9"];
	"901": ["0", "9"];
	"902": ["0", "9"];
	"903": ["0", "9"];
	"904": ["0", "9"];
	"905": ["0", "9"];
	"906": ["0", "9"];
	"907": ["0", "9"];
	"908": ["0", "9"];
	"909": ["0", "9"];
	"910": ["0", "9"];
	"911": ["1", "0"];
	"912": ["1", "1"];
	"913": ["1", "2"];
	"914": ["1", "3"];
	"915": ["1", "4"];
	"916": ["1", "5"];
	"917": ["1", "6"];
	"918": ["1", "7"];
	"919": ["1", "8"];
	"920": ["0", "9"];
	"921": ["1", "1"];
	"922": ["1", "3"];
	"923": ["1", "5"];
	"924": ["1", "7"];
	"925": ["1", "9"];
	"926": ["2", "1"];
	"927": ["2", "3"];
	"928": ["2", "5"];
	"929": ["2", "7"];
	"930": ["0", "9"];
	"931": ["1", "2"];
	"932": ["1", "5"];
	"933": ["1", "8"];
	"934": ["2", "1"];
	"935": ["2", "4"];
	"936": ["2", "7"];
	"937": ["3", "0"];
	"938": ["3", "3"];
	"939": ["3", "6"];
	"940": ["0", "9"];
	"941": ["1", "3"];
	"942": ["1", "7"];
	"943": ["2", "1"];
	"944": ["2", "5"];
	"945": ["2", "9"];
	"946": ["3", "3"];
	"947": ["3", "7"];
	"948": ["4", "1"];
	"949": ["4", "5"];
	"950": ["0", "9"];
	"951": ["1", "4"];
	"952": ["1", "9"];
	"953": ["2", "4"];
	"954": ["2", "9"];
	"955": ["3", "4"];
	"956": ["3", "9"];
	"957": ["4", "4"];
	"958": ["4", "9"];
	"959": ["5", "4"];
	"960": ["0", "9"];
	"961": ["1", "5"];
	"962": ["2", "1"];
	"963": ["2", "7"];
	"964": ["3", "3"];
	"965": ["3", "9"];
	"966": ["4", "5"];
	"967": ["5", "1"];
	"968": ["5", "7"];
	"969": ["6", "3"];
	"970": ["0", "9"];
	"971": ["1", "6"];
	"972": ["2", "3"];
	"973": ["3", "0"];
	"974": ["3", "7"];
	"975": ["4", "4"];
	"976": ["5", "1"];
	"977": ["5", "8"];
	"978": ["6", "5"];
	"979": ["7", "2"];
	"980": ["0", "9"];
	"981": ["1", "7"];
	"982": ["2", "5"];
	"983": ["3", "3"];
	"984": ["4", "1"];
	"985": ["4", "9"];
	"986": ["5", "7"];
	"987": ["6", "5"];
	"988": ["7", "3"];
	"989": ["8", "1"];
	"990": ["0", "9"];
	"991": ["1", "8"];
	"992": ["2", "7"];
	"993": ["3", "6"];
	"994": ["4", "5"];
	"995": ["5", "4"];
	"996": ["6", "3"];
	"997": ["7", "2"];
	"998": ["8", "1"];
	"999": ["9", "0"];
};

export type MulTDNumDigit<A, B extends Digit, Result extends any[] = [], Carry extends Digit = "0"> =
	/* dprint-ignore */
	A extends [Digit, ...infer AZ]
		? MulTDNumDigit<AZ, B, [...Result, Mul[`${Carry}${A[0]}${B}`][1]], Mul[`${Carry}${A[0]}${B}`][0]>
		: Carry extends "0"
			? Result
			: [...Result, Carry];

export type MulTDNumImpl<A, B extends TDNum, State extends any[] = [], Depth extends "0"[] = []> =
	/* dprint-ignore */
	B extends [infer D, ...infer Rest]
		? MulTDNumImpl<A, Rest extends TDNum ? Rest : never, [...State, [...Depth, ...MulTDNumDigit<A, D extends Digit ? D : never>]], [...Depth, "0"]>
		: State;

/** multiply two TDNums */
export type MulTDNum<A, B, State extends any[] = [], Depth extends "0"[] = []> =
	/* dprint-ignore */
	SumTDNums<MulTDNumImpl<A, B extends TDNum ? B : never>>;

export type TupleNOf<N, T, State extends any[] = []> = State["length"] extends N ? State
	: TupleNOf<N, T, [...State, T]>;

type Tuple1 = [any];
type Tuple2 = [...Tuple1, ...Tuple1];
type Tuple4 = [...Tuple2, ...Tuple2];

/** split tuple of elements into tuple of batches of elements with a batch size of 2 */
export type Batch2<T, State extends any[][] = []> = T extends [...Tuple2, ...infer Rest]
	? Batch2<Rest, [...State, [T[0], T[1]]]>
	: T extends [] ? State
	: [...State, T];

/** split tuple of elements into tuple of batches of elements with a batch size of 4 */
export type Batch4<T, State extends any[][] = []> = T extends [...Tuple4, ...infer Rest]
	? Batch4<Rest, [...State, [T[0], T[1], T[1], T[2]]]>
	: T extends [] ? State
	: [...State, T];

/** Apply AddTDNum to each batch in tuple of 2 wide batches */
type SumBatches2<T extends any[]> = { [I in keyof T]: T[I] extends Tuple2 ? AddTDNum<T[I][0], T[I][1]> : T[I][0] };

type SumTDNumsImpl<T> =
	/* dprint-ignore */
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
	SumBatches2<Batch2<
		T
	>>>>>>>>>>>>>>>>>>>>>>;

/** sum a tuple of TDNums into a single TDNum */
export type SumTDNums<T> = T extends [] ? ["0"]
	: SumTDNumsImpl<T> extends [any] ? SumTDNumsImpl<T>[0]
	: "Too many nums to sum";

/** convert TDNum to decimal number string */
export type TDNumToString<T, State extends string = ""> = T extends [Digit, ...infer Rest]
	? TDNumToString<Rest, `${T[0]}${State}`>
	: State;
